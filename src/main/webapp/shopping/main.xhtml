<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	<h:head>
		<f:facet name="first">
			<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
			<title>PrimeFaces - ShowCase</title>
			<link rel="shortcut icon" type="image/png"
				href="#{request.contextPath}/images/favicon.png" />
		</f:facet>
		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/default.css" />
		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/syntaxhighlighter/syntaxhighlighter.css" />
		<ui:insert name="head"></ui:insert>

		<script type="text/javascript">
			$(function() {
				$('.sidebar a').hover(function() {
					$(this).toggleClass('ui-state-hover');
				})
			});
		</script>
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push([ '_setAccount', 'UA-12200033-3' ]);
			_gaq.push([ '_trackPageview' ]);

			(function() {
				var ga = document.createElement('script');
				ga.type = 'text/javascript';
				ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl'
						: 'http://www')
						+ '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</h:head>
	<h:body>
		<div id="header" class="ui-widget ui-widget-header">
			<div id="logo">
				<img src="#{request.contextPath}/images/logo.png" alt="Logo" />
			</div>
			<div id="updateArea">
				
			</div>		
		</div>
		<div id="page" class="ui-widget ui-widget-content">
			<p:tabView id="mypanel" dynamic="true">
				
				<p:tab title="#{promotionBean.currentProduct.name}">
				
					<p:dataGrid var="cream" value="#{promotionBean.promotionProducts}"
						columns="3" rows="5" paginator="true">
						<p:panel header="#{cream.name}" style="text-align:left">
							<h:panelGrid columns="2" style="width:100%">
								<p:graphicImage width="100px;" height="100px;" value="#{cream.url}" />
								<p:commandLink  update="mypanel"  action="#{promotionBean.addToShoppingCart}"
									 title="Add To Cart">
									<p:graphicImage width="50px;" height="50px;"
										value="/images/shopping/ICO/Shopping_Cart_Add.ico" />
									<f:setPropertyActionListener value="#{cream}"
										target="#{promotionBean.currentProduct}" />
								</p:commandLink>
							</h:panelGrid>
						</p:panel>
					</p:dataGrid>
				</p:tab>
				<p:tab title="News">
					<h:outputText value="News" />
				</p:tab>
				<p:tab title="All Products">
					<h:outputText value="All Products" />
				</p:tab>
			</p:tabView>
		</div>
	</h:body>
</ui:composition>
